"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[903],{6931:function(e,n,r){r.d(n,{k:function(){return l}});var t=r(5861),i=r(885),o=r(7757),a=r.n(o),s=r(2791),c=r(4569),u=function(e,n){return c.defaults.baseURL="https://api.themoviedb.org",c.get("".concat("3","/").concat(e),{params:{api_key:"f979c5d182d240e48ce15515a9f4d973",language:"en-US",include_adult:false,query:n,append_to_response:"credits,reviews"}}).then((function(e){var n=e.data;if(n)return n;throw new Error("Search error")}))},l=function(e,n){var r=(0,s.useState)(null),o=(0,i.Z)(r,2),c=o[0],l=o[1],d=(0,s.useState)(!1),v=(0,i.Z)(d,2),h=v[0],f=v[1],p=(0,s.useState)(null),m=(0,i.Z)(p,2),x=m[0],Z=m[1];return(0,s.useEffect)((function(){function r(){return(r=(0,t.Z)(a().mark((function r(){var t;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(f(!0),r.prev=1,null!==n){r.next=4;break}return r.abrupt("return");case 4:return r.next=6,u(e,n);case 6:return t=r.sent,r.abrupt("return",l(t));case 10:r.prev=10,r.t0=r.catch(1),Z(r.t0);case 13:return r.prev=13,f(!1),r.finish(13);case 16:case"end":return r.stop()}}),r,null,[[1,10,13,16]])})))).apply(this,arguments)}!function(){r.apply(this,arguments)}()}),[e,n]),{fetchedMovies:c,loading:h,error:x}}},2903:function(e,n,r){r.r(n),r.d(n,{default:function(){return R}});var t,i=r(6871),o=r(8479),a=r(8423),s=r(6931),c=r(536),u=r(168),l=r(5751),d=l.ZP.button(t||(t=(0,u.Z)([""]))),v=r(184);function h(e){var n=e.to,r=e.children,t=(0,i.s0)();return(0,v.jsx)(d,{onClick:function(){return t(n)},children:r})}var f,p,m,x,Z,g,j,w,_,k,b=r(501),P=l.ZP.div(f||(f=(0,u.Z)(["\n  display: block;\n"]))),y=l.ZP.h3(p||(p=(0,u.Z)([""]))),S=l.ZP.div(m||(m=(0,u.Z)(["\n  display: flex;\n"]))),U=l.ZP.img(x||(x=(0,u.Z)(["\n  width: 15vw;\n  margin-right: 2rem;\n"]))),C=l.ZP.div(Z||(Z=(0,u.Z)(["\n  display: block;\n"]))),B=l.ZP.h2(g||(g=(0,u.Z)([""]))),E=l.ZP.p(j||(j=(0,u.Z)([""]))),H=l.ZP.p(w||(w=(0,u.Z)(["\n  width: 35vw;\n"]))),M=l.ZP.p(_||(_=(0,u.Z)(["\n  width: 35vw;\n"]))),O=(0,l.ZP)(b.rU)(k||(k=(0,u.Z)(["\n  margin-right: 1rem;\n"])));function R(){var e,n,r,t,u=(0,i.UO)().slug.match(/[a-z0-9]+$/),l=(0,i.TH)().state,d=(0,s.k)("".concat("movie/").concat(u)),f=d.fetchedMovies,p=d.loading,m=d.error,x=f||{},Z=x.poster_path,g=x.title,j=x.release_date,w=x.vote_average,_=x.overview,k=x.genres;return o.ZP.error(null===m||void 0===m?void 0:m.message),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(h,{to:null!==(e=null===l||void 0===l?void 0:l.from)&&void 0!==e?e:"/",children:"/movies/"===(null===l||void 0===l||null===(n=l.from)||void 0===n?void 0:n.pathname)?"Back to searched movies list":"Back to Home page"}),m&&(0,v.jsx)(o.x7,{}),f&&(0,v.jsxs)(P,{children:[(0,v.jsxs)(S,{children:[(0,v.jsx)(U,{alt:"movie poster",src:Z?"".concat("https://image.tmdb.org/t/p").concat("/original").concat(Z):c}),(0,v.jsxs)(C,{children:[(0,v.jsxs)(B,{children:[g," (",j.substring(0,4),")"]}),(0,v.jsxs)(E,{children:["User score: ",10*w," %"]}),(0,v.jsx)(y,{children:"Overview"}),(0,v.jsx)(H,{children:_}),(0,v.jsx)(y,{children:"Genres"}),(0,v.jsx)(M,{children:k.map((function(e){return e.name})).join(" ")})]})]}),(0,v.jsx)("hr",{}),(0,v.jsx)(y,{children:"Additional information"}),(0,v.jsx)(O,{to:"cast",state:{from:null!==(r=null===l||void 0===l?void 0:l.from)&&void 0!==r?r:"/"},children:"Cast"}),(0,v.jsx)(O,{to:"reviews",state:{from:null!==(t=null===l||void 0===l?void 0:l.from)&&void 0!==t?t:"/"},children:"Reviews"}),(0,v.jsx)("hr",{}),(0,v.jsx)(i.j3,{context:[f]})]}),p&&(0,v.jsx)(a.a,{})]})}},8423:function(e,n,r){r.d(n,{a:function(){return t.Z}});var t=r(9700)},536:function(e,n,r){e.exports=r.p+"static/media/no_poster.4922e4feba53e65ae29f.jpg"}}]);
//# sourceMappingURL=903.a91a53f2.chunk.js.map