{"version":3,"file":"static/js/903.a91a53f2.chunk.js","mappings":"2NAAMA,EAAQC,EAAQ,MAQTC,EAAuB,SAACC,EAAgBC,GAEnD,OADAJ,EAAMK,SAASC,QARA,6BASRN,EACJO,IADI,UAPS,IAOT,YACgBJ,GAAkB,CACrCK,OAAQ,CACNC,QAXQ,mCAYRC,SAViB,QAWjBC,cAVc,MAWdC,MAAOR,EACPS,mBAXuB,qBAc1BC,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACP,GAAIA,EACF,OAAOA,EAEP,MAAM,IAAIC,MAAM,oBCpBXC,EAAiB,SAACd,EAAgBC,GAC7C,OAA0Cc,EAAAA,EAAAA,UAAS,MAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAsBA,OApBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,uFACEH,GAAW,GADb,SAGwB,OAAhBlB,EAHR,iEAM8BF,EACxBC,EACAC,GARN,cAMUsB,EANV,yBAUWN,EAAiBM,IAV5B,kCAYIF,EAAS,EAAD,IAZZ,yBAcIF,GAAW,GAdf,8EADc,uBAAC,WAAD,wBAkBdK,KACC,CAACxB,EAAgBC,IACb,CAAEe,cAAAA,EAAeE,QAAAA,EAASE,MAAAA,K,4IC3BtBK,EAAYC,EAAAA,GAAAA,OAAH,sB,SCGP,SAASC,EAAT,GAAmC,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,SAC7BC,GAAWC,EAAAA,EAAAA,MAEjB,OAAO,SAACN,EAAD,CAAWO,QAAS,kBAAMF,EAASF,IAAnC,SAAyCC,I,iCCLrCI,EAAUP,EAAAA,GAAAA,IAAH,2CAIPQ,EAAkBR,EAAAA,GAAAA,GAAH,sBAEfS,EAAaT,EAAAA,GAAAA,IAAH,0CAIVU,EAAcV,EAAAA,GAAAA,IAAH,+DAKXW,EAAYX,EAAAA,GAAAA,IAAH,2CAITY,EAAaZ,EAAAA,GAAAA,GAAH,sBAEVa,EAAab,EAAAA,GAAAA,EAAH,sBAEVc,EAAgBd,EAAAA,GAAAA,EAAH,wCAIbe,EAAcf,EAAAA,GAAAA,EAAH,wCAIXgB,GAAahB,EAAAA,EAAAA,IAAOiB,EAAAA,GAAPjB,CAAH,+CCfR,SAASkB,IAAoB,IAAD,QAGnCC,GAAUC,EAAAA,EAAAA,MAAYC,KAAKC,MAAM,cAG/BC,GAAUC,EAAAA,EAAAA,MAAVD,MACR,GAA0CnC,EAAAA,EAAAA,GAAe,GAAD,OANpC,UAMoC,OACrC+B,IADX7B,EAAR,EAAQA,cAAeE,EAAvB,EAAuBA,QAASE,EAAhC,EAAgCA,MAGhC,EACEJ,GAAiB,GADXmC,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,MAAOC,EAA5B,EAA4BA,aAAcC,EAA1C,EAA0CA,aAAcC,EAAxD,EAAwDA,SAAUC,EAAlE,EAAkEA,OAKlE,OAFAC,EAAAA,GAAAA,MAAA,OAAYrC,QAAZ,IAAYA,OAAZ,EAAYA,EAAOsC,UAGjB,iCACE,SAAC/B,EAAD,CAAQC,GAAE,iBAAEqB,QAAF,IAAEA,OAAF,EAAEA,EAAOU,YAAT,QAAiB,IAA3B,SAC6B,cAArB,OAALV,QAAK,IAALA,GAAA,UAAAA,EAAOU,YAAP,eAAaC,UACV,+BACA,sBAELxC,IAAS,SAAC,KAAD,IACTJ,IACC,UAACiB,EAAD,YACE,UAACE,EAAD,YACE,SAACC,EAAD,CACEyB,IAAI,eACJC,IACEX,EAAW,UA3BN,8BA2BM,OAzBT,aAyBS,OAA6BA,GAAgBY,KAG5D,UAAC1B,EAAD,YACE,UAACC,EAAD,WACGc,EADH,KACYC,EAAaW,UAAU,EAAG,GADtC,QAGA,UAACzB,EAAD,0BAAwC,GAAfe,EAAzB,SACA,SAACpB,EAAD,wBACA,SAACM,EAAD,UAAgBe,KAChB,SAACrB,EAAD,sBACA,SAACO,EAAD,UACGe,EAAOS,KAAI,qBAAGC,QAAiBC,KAAK,cAI3C,mBACA,SAACjC,EAAD,sCACA,SAACQ,EAAD,CAAYd,GAAG,OAAOqB,MAAO,CAAEU,KAAI,iBAAEV,QAAF,IAAEA,OAAF,EAAEA,EAAOU,YAAT,QAAiB,KAApD,mBAGA,SAACjB,EAAD,CAAYd,GAAG,UAAUqB,MAAO,CAAEU,KAAI,iBAAEV,QAAF,IAAEA,OAAF,EAAEA,EAAOU,YAAT,QAAiB,KAAvD,sBAGA,mBACA,SAAC,KAAD,CAAQS,QAAS,CAACpD,QAGrBE,IAAW,SAAC,IAAD,S","sources":["utils/http-services/themoviedb-api-service.js","hooks/useFetchMovies.js","components/GoBack/GoBack.styled.jsx","components/GoBack/GoBack.jsx","pages/MovieDetailsPage/MovieDetailsPage.styled.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["const axios = require('axios');\nconst BASE_URL = 'https://api.themoviedb.org';\nconst API_KEY = 'f979c5d182d240e48ce15515a9f4d973';\nconst AUTH_TYPE = '3';\nconst DEFAULT_LANGUAGE = 'en-US';\nconst ADULT_CONTENT = false;\nconst APPENDED_MOVIE_DETAILS = 'credits,reviews';\n\nexport const themoviedbApiService = (fetchParameter, searchQuery) => {\n  axios.defaults.baseURL = BASE_URL;\n  return axios\n    .get(`${AUTH_TYPE}/${fetchParameter}`, {\n      params: {\n        api_key: API_KEY,\n        language: DEFAULT_LANGUAGE,\n        include_adult: ADULT_CONTENT,\n        query: searchQuery,\n        append_to_response: APPENDED_MOVIE_DETAILS,\n      },\n    })\n    .then(({ data }) => {\n      if (data) {\n        return data;\n      } else {\n        throw new Error('Search error');\n      }\n    });\n};\n","import { useState, useEffect } from 'react';\n\nimport { themoviedbApiService } from '../utils';\n\nexport const useFetchMovies = (fetchParameter, searchQuery) => {\n  const [fetchedMovies, setFetchedMovies] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      setLoading(true);\n      try {\n        if (searchQuery === null) {\n          return;\n        }\n        const fetchedData = await themoviedbApiService(\n          fetchParameter,\n          searchQuery\n        );\n        return setFetchedMovies(fetchedData);\n      } catch (error) {\n        setError(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, [fetchParameter, searchQuery]);\n  return { fetchedMovies, loading, error };\n};\n","import styled from 'styled-components';\n\nexport const GoBackBtn = styled.button``;\n","import { useNavigate } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport { GoBackBtn } from './GoBack.styled';\n\nexport default function GoBack({ to, children }) {\n  const navigate = useNavigate();\n\n  return <GoBackBtn onClick={() => navigate(to)}>{children}</GoBackBtn>;\n}\n\nGoBack.propTypes = {\n  to: PropTypes.object.isRequired,\n  children: PropTypes.string.isRequired,\n};\n","import { Link } from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  display: block;\n`;\n\nexport const PageBlockHeader = styled.h3``;\n\nexport const AboutMovie = styled.div`\n  display: flex;\n`;\n\nexport const MoviePoster = styled.img`\n  width: 15vw;\n  margin-right: 2rem;\n`;\n\nexport const MovieInfo = styled.div`\n  display: block;\n`;\n\nexport const MovieTitle = styled.h2``;\n\nexport const MovieScore = styled.p``;\n\nexport const MovieOverview = styled.p`\n  width: 35vw;\n`;\n\nexport const MovieGenres = styled.p`\n  width: 35vw;\n`;\n\nexport const StyledLink = styled(Link)`\n  margin-right: 1rem;\n`;\n","import { Outlet, useParams, useLocation } from 'react-router-dom';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { Loader } from '../../vendors';\nimport { useFetchMovies } from '../../hooks';\nimport noPoster from '../../images/no_poster.jpg';\nimport GoBack from '../../components/GoBack/GoBack.jsx';\nimport {\n  Wrapper,\n  AboutMovie,\n  MoviePoster,\n  MovieInfo,\n  MovieTitle,\n  MovieScore,\n  MovieOverview,\n  MovieGenres,\n  PageBlockHeader,\n  StyledLink,\n} from './MovieDetailsPage.styled';\n\nexport default function MovieDetailsPage() {\n  const fetchParams = 'movie/';\n  const imgBaseUrl = 'https://image.tmdb.org/t/p';\n  const movieId = useParams().slug.match(/[a-z0-9]+$/);\n  const imgSize = '/original';\n\n  const { state } = useLocation();\n  const { fetchedMovies, loading, error } = useFetchMovies(\n    `${fetchParams}${movieId}`\n  );\n  const { poster_path, title, release_date, vote_average, overview, genres } =\n    fetchedMovies || {};\n\n  toast.error(error?.message);\n\n  return (\n    <>\n      <GoBack to={state?.from ?? '/'}>\n        {state?.from?.pathname === '/movies/'\n          ? 'Back to searched movies list'\n          : 'Back to Home page'}\n      </GoBack>\n      {error && <Toaster />}\n      {fetchedMovies && (\n        <Wrapper>\n          <AboutMovie>\n            <MoviePoster\n              alt=\"movie poster\"\n              src={\n                poster_path ? `${imgBaseUrl}${imgSize}${poster_path}` : noPoster\n              }\n            />\n            <MovieInfo>\n              <MovieTitle>\n                {title} ({release_date.substring(0, 4)})\n              </MovieTitle>\n              <MovieScore>User score: {vote_average * 10} %</MovieScore>\n              <PageBlockHeader>Overview</PageBlockHeader>\n              <MovieOverview>{overview}</MovieOverview>\n              <PageBlockHeader>Genres</PageBlockHeader>\n              <MovieGenres>\n                {genres.map(({ name }) => name).join(' ')}\n              </MovieGenres>\n            </MovieInfo>\n          </AboutMovie>\n          <hr />\n          <PageBlockHeader>Additional information</PageBlockHeader>\n          <StyledLink to=\"cast\" state={{ from: state?.from ?? '/' }}>\n            Cast\n          </StyledLink>\n          <StyledLink to=\"reviews\" state={{ from: state?.from ?? '/' }}>\n            Reviews\n          </StyledLink>\n          <hr />\n          <Outlet context={[fetchedMovies]} />\n        </Wrapper>\n      )}\n      {loading && <Loader />}\n    </>\n  );\n}\n"],"names":["axios","require","themoviedbApiService","fetchParameter","searchQuery","defaults","baseURL","get","params","api_key","language","include_adult","query","append_to_response","then","data","Error","useFetchMovies","useState","fetchedMovies","setFetchedMovies","loading","setLoading","error","setError","useEffect","fetchedData","fetchData","GoBackBtn","styled","GoBack","to","children","navigate","useNavigate","onClick","Wrapper","PageBlockHeader","AboutMovie","MoviePoster","MovieInfo","MovieTitle","MovieScore","MovieOverview","MovieGenres","StyledLink","Link","MovieDetailsPage","movieId","useParams","slug","match","state","useLocation","poster_path","title","release_date","vote_average","overview","genres","toast","message","from","pathname","alt","src","noPoster","substring","map","name","join","context"],"sourceRoot":""}